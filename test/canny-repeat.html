<<<<<<< HEAD
=======
<!DOCTYPE html>
<html>
<head>
    <title>Canny Async - QUnit Test Suite</title>
    <link rel="stylesheet" href="lib/qunit-1.14.0.css" type="text/css" media="screen">
    <script type="text/javascript" src="lib/qunit-1.14.0.js"></script>
    <script type="text/javascript" src="../canny.js"></script>
    <script type="text/javascript" src="../mod/repeat.js"></script>
    <script type="text/javascript" src="unit/canny-repeat.js"></script>
</head>
<body>

<style>html{background-color: whitesmoke;}</style>

<script>
    // prepare repeat list so that canny.repeat have access to it
    var repeat = {
        list : ['item0', 'item1', 'item2'],
        listObj : [{
                main:'main1',
                bar:{foo1 : 'foo1', bar1 : 'bar1'}
            },{
                main:'main2',
                bar:{foo1 : 'foo2', bar1 : 'bar2'}
            },{
                main:'main3',bar:
                {foo1 : 'foo3', bar1 : 'bar3'}
            }],
        closureFc : (function () {
            var triggerRepeat;
            return {
                changeValues : function (list) {
                    triggerRepeat(list);
                },
                listObjFunction : function (cb) {
                    triggerRepeat = cb;
                    triggerRepeat([
                        {foo : 'foo1'},
                        {foo : 'foo2'},
                        {foo : 'foo3'}
                    ])
                }
            }
        }()),
        clickListener : [
            {foo : 'click me 1', clickMe : function () { console.log('canny-repeat: foo1 clicked'); }},
            {foo : 'click me 2', clickMe : function () { console.log('canny-repeat: foo2 clicked');}}
        ],
        addClasses : [
            {className : 'itemClass0 foo'},
            {className : 'itemClass1 foo'}
        ],
        conditions : [
            {foo : true},
            {foo : false}
        ],
        conditionsWithMissingProperties : [
            {foo : 'foo'},
            {foo : 'foo', bar: {barFoo : 'barFoo'}}
        ]

    };
</script>
>>>>>>> aa629e6f1ff1782bea252880c9c4024aedaf9036

<ul id="qunitList" canny-mod="repeat" canny-var="{'for':'item','in':'repeat.list'}">
    <li>{{item}}</li>
</ul>

<ul id="qunitListObject" canny-mod="repeat" canny-var="{'for':'item','in':'repeat.listObj'}">
    <li>{{item.main}}</li>
    <li>{{item.bar.foo1}}</li>
    <li>With before text {{item.bar.bar1}} and after text.</li>
</ul>

<ul id="qunitListObjectFunction" canny-mod="repeat" canny-var="{'for':'item','in':'repeat.closureFc.listObjFunction'}">
    <li>{{item.foo}}</li>
</ul>

<ul id="qunitListObjectClickListener" canny-mod="repeat" canny-var="{'for':'item','in':'repeat.clickListener'}">
    <li on-click="item.clickMe">{{item.foo}}</li>
</ul>

<ul id="qunitListObjectAddClass" canny-mod="repeat" canny-var="{'for':'item','in':'repeat.addClasses'}">
    <li add-class="item.className">{{item.className}}</li>
</ul>

<ul id="qunitIfConditionCollection" canny-mod="repeat" canny-var="{'for':'item','in':'repeat.conditions'}">
    <li if="item.foo">foo if {{item.foo}}</li>
    <li if-not="item.foo">foo if not {{item.foo}}</li>
</ul>
<ul id="qunitIfConditionObjectExists" canny-mod="repeat" canny-var="{'for':'item','in':'repeat.conditionsWithMissingProperties'}">
    <li if="item.bar">if bar: {{item.bar.barFoo}}</li>
    <li if-not="item.bar">there is no item bar only foo: {{item.foo}}</li>
</ul>

</body>
</html>